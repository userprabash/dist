import{G as T,a as Q,c as Z,u as tt,r as W,s as q,j as a,L as k}from"./index-Ma9wRQcA.js";import{S as rt}from"./SEO-DWdBMrk5.js";import{b as it}from"./04-BVqPHm3Y.js";function et(d){return T({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(d)}function nt(d){return T({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(d)}var V={exports:{}};(function(d,l){(function(u,j){d.exports=j()})(Z,function(){function u(){return u=Object.assign||function(r){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}return r},u.apply(this,arguments)}function j(r,i){if(r){if(typeof r=="string")return O(r,i);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return O(r,i)}}function O(r,i){(i==null||i>r.length)&&(i=r.length);for(var e=0,t=new Array(i);e<i;e++)t[e]=r[e];return t}function H(r,i){var e=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e)return(e=e.call(r)).next.bind(e);if(Array.isArray(r)||(e=j(r))||i){e&&(r=e);var t=0;return function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var I="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function B(r){var i=r.split("-"),e=i[1],t=i[2],s=i[3];if(!e||!t||!s)throw new Error("Malformed asset _ref '"+r+`'. Expected an id like "`+I+'".');var n=t.split("x"),o=n[0],h=n[1],p=+o,f=+h,c=isFinite(p)&&isFinite(f);if(!c)throw new Error("Malformed asset _ref '"+r+`'. Expected an id like "`+I+'".');return{id:e,width:p,height:f,format:s}}var P=function(i){var e=i;return e?typeof e._ref=="string":!1},U=function(i){var e=i;return e?typeof e._id=="string":!1},E=function(i){var e=i;return e&&e.asset?typeof e.asset.url=="string":!1};function A(r){if(!r)return null;var i;if(typeof r=="string"&&R(r))i={asset:{_ref:S(r)}};else if(typeof r=="string")i={asset:{_ref:r}};else if(P(r))i={asset:r};else if(U(r))i={asset:{_ref:r._id||""}};else if(E(r))i={asset:{_ref:S(r.asset.url)}};else if(typeof r.asset=="object")i=u({},r);else return null;var e=r;return e.crop&&(i.crop=e.crop),e.hotspot&&(i.hotspot=e.hotspot),C(i)}function R(r){return/^https?:\/\//.test(""+r)}function S(r){var i=r.split("/").slice(-1);return("image-"+i[0]).replace(/\.([a-z]+)$/,"-$1")}function C(r){if(r.crop&&r.hotspot)return r;var i=u({},r);return i.crop||(i.crop={left:0,top:0,bottom:0,right:0}),i.hotspot||(i.hotspot={x:.5,y:.5,height:1,width:1}),i}var g=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"],["frame","frame"]];function b(r){var i=u({},r||{}),e=i.source;delete i.source;var t=A(e);if(!t)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(e)+")");var s=t.asset._ref||t.asset._id||"",n=B(s),o=Math.round(t.crop.left*n.width),h=Math.round(t.crop.top*n.height),p={left:o,top:h,width:Math.round(n.width-t.crop.right*n.width-o),height:Math.round(n.height-t.crop.bottom*n.height-h)},f=t.hotspot.height*n.height/2,c=t.hotspot.width*n.width/2,y=t.hotspot.x*n.width,x=t.hotspot.y*n.height,m={left:y-c,top:x-f,right:y+c,bottom:x+f};return i.rect||i.focalPoint||i.ignoreImageParams||i.crop||(i=u({},i,F({crop:p,hotspot:m},i))),z(u({},i,{asset:n}))}function z(r){var i=(r.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),e=r.vanityName?"/"+r.vanityName:"",t=r.asset.id+"-"+r.asset.width+"x"+r.asset.height+"."+r.asset.format+e,s=i+"/images/"+r.projectId+"/"+r.dataset+"/"+t,n=[];if(r.rect){var o=r.rect,h=o.left,p=o.top,f=o.width,c=o.height,y=h!==0||p!==0||c!==r.asset.height||f!==r.asset.width;y&&n.push("rect="+h+","+p+","+f+","+c)}r.bg&&n.push("bg="+r.bg),r.focalPoint&&(n.push("fp-x="+r.focalPoint.x),n.push("fp-y="+r.focalPoint.y));var x=[r.flipHorizontal&&"h",r.flipVertical&&"v"].filter(Boolean).join("");return x&&n.push("flip="+x),g.forEach(function(m){var N=m[0],v=m[1];typeof r[N]<"u"?n.push(v+"="+encodeURIComponent(r[N])):typeof r[v]<"u"&&n.push(v+"="+encodeURIComponent(r[v]))}),n.length===0?s:s+"?"+n.join("&")}function F(r,i){var e,t=i.width,s=i.height;if(!(t&&s))return{width:t,height:s,rect:r.crop};var n=r.crop,o=r.hotspot,h=t/s,p=n.width/n.height;if(p>h){var f=Math.round(n.height),c=Math.round(f*h),y=Math.max(0,Math.round(n.top)),x=Math.round((o.right-o.left)/2+o.left),m=Math.max(0,Math.round(x-c/2));m<n.left?m=n.left:m+c>n.left+n.width&&(m=n.left+n.width-c),e={left:m,top:y,width:c,height:f}}else{var N=n.width,v=Math.round(N/h),X=Math.max(0,Math.round(n.left)),Y=Math.round((o.bottom-o.top)/2+o.top),M=Math.max(0,Math.round(Y-v/2));M<n.top?M=n.top:M+v>n.top+n.height&&(M=n.top+n.height-v),e={left:X,top:M,width:N,height:v}}return{width:t,height:s,rect:e}}var L=["clip","crop","fill","fillmax","max","scale","min"],w=["top","bottom","left","right","center","focalpoint","entropy"],_=["format"];function G(r){return r&&"config"in r?typeof r.config=="function":!1}function $(r){return r&&"clientConfig"in r?typeof r.clientConfig=="object":!1}function J(r){for(var i=g,e=H(i),t;!(t=e()).done;){var s=t.value,n=s[0],o=s[1];if(r===n||r===o)return n}return r}function K(r){if(G(r)){var i=r.config(),e=i.apiHost,t=i.projectId,s=i.dataset,n=e||"https://api.sanity.io";return new D(null,{baseUrl:n.replace(/^https:\/\/api\./,"https://cdn."),projectId:t,dataset:s})}if($(r)){var o=r.clientConfig,h=o.apiHost,p=o.projectId,f=o.dataset,c=h||"https://api.sanity.io";return new D(null,{baseUrl:c.replace(/^https:\/\/api\./,"https://cdn."),projectId:p,dataset:f})}return new D(null,r||{})}var D=function(){function r(e,t){this.options=void 0,this.options=e?u({},e.options||{},t||{}):u({},t||{})}var i=r.prototype;return i.withOptions=function(t){var s=t.baseUrl||this.options.baseUrl,n={baseUrl:s};for(var o in t)if(t.hasOwnProperty(o)){var h=J(o);n[h]=t[o]}return new r(this,u({baseUrl:s},n))},i.image=function(t){return this.withOptions({source:t})},i.dataset=function(t){return this.withOptions({dataset:t})},i.projectId=function(t){return this.withOptions({projectId:t})},i.bg=function(t){return this.withOptions({bg:t})},i.dpr=function(t){return this.withOptions(t&&t!==1?{dpr:t}:{})},i.width=function(t){return this.withOptions({width:t})},i.height=function(t){return this.withOptions({height:t})},i.focalPoint=function(t,s){return this.withOptions({focalPoint:{x:t,y:s}})},i.maxWidth=function(t){return this.withOptions({maxWidth:t})},i.minWidth=function(t){return this.withOptions({minWidth:t})},i.maxHeight=function(t){return this.withOptions({maxHeight:t})},i.minHeight=function(t){return this.withOptions({minHeight:t})},i.size=function(t,s){return this.withOptions({width:t,height:s})},i.blur=function(t){return this.withOptions({blur:t})},i.sharpen=function(t){return this.withOptions({sharpen:t})},i.rect=function(t,s,n,o){return this.withOptions({rect:{left:t,top:s,width:n,height:o}})},i.format=function(t){return this.withOptions({format:t})},i.invert=function(t){return this.withOptions({invert:t})},i.orientation=function(t){return this.withOptions({orientation:t})},i.quality=function(t){return this.withOptions({quality:t})},i.forceDownload=function(t){return this.withOptions({download:t})},i.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},i.flipVertical=function(){return this.withOptions({flipVertical:!0})},i.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},i.fit=function(t){if(L.indexOf(t)===-1)throw new Error('Invalid fit mode "'+t+'"');return this.withOptions({fit:t})},i.crop=function(t){if(w.indexOf(t)===-1)throw new Error('Invalid crop mode "'+t+'"');return this.withOptions({crop:t})},i.saturation=function(t){return this.withOptions({saturation:t})},i.auto=function(t){if(_.indexOf(t)===-1)throw new Error('Invalid auto mode "'+t+'"');return this.withOptions({auto:t})},i.pad=function(t){return this.withOptions({pad:t})},i.vanityName=function(t){return this.withOptions({vanityName:t})},i.frame=function(t){if(t!==1)throw new Error('Invalid frame value "'+t+'"');return this.withOptions({frame:t})},i.url=function(){return b(this.options)},i.toString=function(){return this.url()},r}();return K})})(V);var at=V.exports;const ot=Q(at),st=ot(q),lt=d=>st.image(d).url();function ft(){var P,U,E,A,R,S,C;const{slug:d}=tt(),[l,u]=W.useState(null);if(W.useEffect(()=>{q.fetch(`*[_type == "product" && slug.current == $slug][0]{
          title,
          name,
          image{asset->{_id,url}},
          catalogPdf{asset->{url}},
          features,
          description
        }`,{slug:d}).then(g=>u(g)).catch(console.error)},[d]),!l)return a.jsx("p",{children:"Loading..."});const j=`Bluestar Surgical House | ${l.title}`,O=l.description||`Buy ${l.title} at Bluestar Surgical House, Kathmandu. High-quality surgical instruments and medical equipment.`,H=`https://bluestarsurgicalhouse.com.np/product/${d}`,I=((U=(P=l.image)==null?void 0:P.asset)==null?void 0:U.url)||"https://bluestarsurgicalhouse.com.np/logo.png",B=async()=>{var g,b;if((b=(g=l.catalogPdf)==null?void 0:g.asset)!=null&&b.url)try{const F=await(await fetch(l.catalogPdf.asset.url)).blob(),L=window.URL.createObjectURL(F),w=document.createElement("a");w.href=L,w.download="catalog.pdf",document.body.appendChild(w),w.click(),w.remove(),window.URL.revokeObjectURL(L)}catch(z){console.error("Download failed:",z)}};return a.jsxs(a.Fragment,{children:[a.jsx(rt,{title:j,description:O,url:H,image:I}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Product",name:l.title,image:I,description:O,brand:{"@type":"Brand",name:"Bluestar Surgical House"},offers:{"@type":"Offer",url:H,availability:"https://schema.org/InStock"}})}),a.jsx("div",{className:"breadcrumb-area pt-125 pb-125",style:{backgroundImage:`url(${it})`},children:a.jsx("div",{className:"container",children:a.jsxs("div",{className:"breadcrumb-wrapper",children:[a.jsx("div",{className:"breadcrumb-text",children:a.jsx("h2",{children:l.title})}),a.jsxs("ul",{className:"breadcrumb-menu",children:[a.jsx("li",{children:a.jsx(k,{to:"/",children:"Home"})}),a.jsx("li",{children:a.jsx(k,{to:"/products",children:"> Products"})}),a.jsx("li",{children:a.jsxs("span",{children:["> ",l.title]})})]})]})})}),a.jsx("div",{className:"container pt-50 pb-50",children:a.jsxs("div",{className:"row",children:[a.jsx("div",{className:"col-xl-4 col-lg-4 mb-30",children:a.jsx("div",{className:"product-img d-flex align-items-center justify-content-center",style:{minHeight:"200px",background:"#f8f9fa",borderRadius:"8px"},children:(A=(E=l.image)==null?void 0:E.asset)!=null&&A.url?a.jsx("img",{src:lt(l.image.asset),alt:l.title,className:"img-fluid"}):a.jsx("h4",{className:"text-muted",children:l.title})})}),a.jsx("div",{className:"col-xl-8 col-lg-8",children:a.jsxs("div",{className:"product-list-content mb-30",children:[a.jsxs("div",{className:"product-text",children:[a.jsx("h1",{children:l.name||l.title}),a.jsx("p",{children:l.description||"High-quality surgical equipment."})]}),((R=l.features)==null?void 0:R.length)>0&&a.jsxs("div",{className:"mt-3",children:[a.jsx("h3",{children:"Key Features:"}),a.jsx("ul",{style:{listStyle:"none",padding:0},children:l.features.map((g,b)=>a.jsxs("li",{className:"d-flex align-items-start mb-2 gap-2",itemProp:"feature",children:[a.jsx(et,{className:"text-success flex-shrink-0",size:18,style:{marginTop:"3px"}}),a.jsx("span",{style:{fontSize:"18px",fontWeight:"650"},children:g})]},b))})]}),((C=(S=l.catalogPdf)==null?void 0:S.asset)==null?void 0:C.url)&&a.jsxs("div",{className:"mt-4 flex gap-3",children:[a.jsx("a",{href:l.catalogPdf.asset.url,target:"_blank",rel:"noopener noreferrer",className:"c-btn",children:"View Catalog"}),a.jsxs("button",{onClick:B,className:"c-btn",children:["Download Catalog PDF ",a.jsx(nt,{})]})]})]})})]})})]})}export{ft as default};
